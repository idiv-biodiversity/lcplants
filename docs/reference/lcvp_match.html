<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Match two name lists using the Leipzig Catalogue of Plants (LCVP) — lcvp_match • lcvplants</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Match two name lists using the Leipzig Catalogue of Plants (LCVP) — lcvp_match"><meta property="og:description" content='Matches and compares two name lists based on the taxonomic resolution of
plant taxa names listed in the "Leipzig Catalogue of Vascular Plants" (LCVP).'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">lcvplants</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Parallel-name-harmonization.html">How to run lcvplants in parallel</a>
    </li>
    <li>
      <a href="../articles/taxonomic_resolution_using_lcvplants.html">Taxonomic resolution using lcvplants</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/idiv-biodiversity/lcvplants/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Match two name lists using the Leipzig Catalogue of Plants (LCVP)</h1>
    <small class="dont-index">Source: <a href="https://github.com/idiv-biodiversity/lcvplants/blob/HEAD/R/lcvp_match.R" class="external-link"><code>R/lcvp_match.R</code></a></small>
    <div class="hidden name"><code>lcvp_match.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Matches and compares two name lists based on the taxonomic resolution of
plant taxa names listed in the "Leipzig Catalogue of Vascular Plants" (LCVP).</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">lcvp_match</span><span class="op">(</span></span>
<span>  <span class="va">splist1</span>,</span>
<span>  <span class="va">splist2</span>,</span>
<span>  max_distance <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span>  genus_fuzzy <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  grammar_check <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  include_all <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  identify_dups <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>splist1</dt>
<dd><p>A character vector specifying the reference input taxon to be matched.
Each element including genus and specific epithet and, potentially,
infraspecific rank, infraspecific name, and author name. Only valid characters are allowed
(see <code><a href="https://rdrr.io/r/base/validUTF8.html" class="external-link">base:validEnc</a></code>).</p></dd>


<dt>splist2</dt>
<dd><p>A character vector specifying the input taxon to match splist1.
Each element including genus and specific epithet and, potentially, infraspecific rank,
infraspecific name, and author name. Only valid characters are allowed
(see <code><a href="https://rdrr.io/r/base/validUTF8.html" class="external-link">base:validEnc</a></code>).</p></dd>


<dt>max_distance</dt>
<dd><p>It represents the maximum string distance allowed for a
match when comparing the submitted name with the closest name matches in the
LCVP. The distance used is a generalized Levenshtein distance that indicates
the total number of insertions, deletions, and substitutions allowed to
match the two names. It can be expressed as an integer or as the fraction of
the binomial name. For example, a name with length 10, and a max_distance =
0.1, allow only one change (insertion, deletion, or substitution). A
max_distance = 2, allows two changes.</p></dd>


<dt>genus_fuzzy</dt>
<dd><p>If TRUE, the fuzzy match algorithm based on max_distance
will also be applied to the genus (note that this may considerably increase
computational time). If FALSE, fuzzy match will only apply to the epithet.</p></dd>


<dt>grammar_check</dt>
<dd><p>if TRUE, the algorithm will try to fix common latin
grammar mistakes.</p></dd>


<dt>include_all</dt>
<dd><p>If <code>TRUE</code> (default), it will include all species in both
<code>splist1</code> and <code>splist2</code>. If <code>FALSE</code>, it will exclude species
only found in <code>splist2</code>.</p></dd>


<dt>identify_dups</dt>
<dd><p>If <code>TRUE</code> (default), a column indicating the position
of duplicated LCVP output names in the resulting data.frame.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A data.frame with the following columns:</p>


<ul><li><p><em>Species.List.1</em>: Taxa name list provided by the user in the
splist1.</p></li>
<li><p><em>Species.List.2</em>: Taxa name list provided by the user in the
splist2.</p></li>
<li><p>global.IdThe fixed species id of the input taxon in the
Leipzig Catalogue of Vascular Plants (LCVP).</p></li>
<li><p>Input.GenusA
character vector. The input genus of the corresponding vascular plant
species name listed in LCVP.</p></li>
<li><p>Input.EpithetonA character vector.
The input epitheton of the corresponding vascular plant species name listed
in LCVP.</p></li>
<li><p>RankA character vector. The taxonomic rank ("species",
subspecies: "subsp.", variety: "var.", subvariety: "subvar.", "forma", or
subforma: "subf.") of the corresponding vascular plant species name listed
in LCVP.</p></li>
<li><p>Input.Subspecies.EpithetonA character vector. If the
indicated rank is below species, the subspecies epitheton input of the
corresponding vascular plant species name listed in LCVP. If the rank is
"species", the input is "nil".</p></li>
<li><p>Input.AuthorsA character vector.
The taxonomic authority input of the corresponding vascular plant species
name listed in LCVP.</p></li>
<li><p>StatusA character vector. description if a
taxon is classified as ‘valid’, ‘synonym’, ‘unresolved’, ‘external’ or
‘blanks’. The ‘unresolved’ rank means that the status of the plant name
could be either valid or synonym, but the information available does not
allow a definitive decision. ‘External’ in an extra rank which lists names
outside the scope of this publication but useful to keep on this updated
list. ‘Blanks’ means that the respective name exists in bibliography but it
is neither clear where it came from valid, synonym or unresolved. (see the
main text Freiberg et al. for more details)</p></li>
<li><p>globalId.of.Output.TaxonThe fixed species id of the output taxon
in LCVP.</p></li>
<li><p>Output.TaxonA character vector. The list of the accepted
plant taxa names according to the LCVP.</p></li>
<li><p>FamilyA character vector.
The corresponding family name of the Input.Taxon, staying empty if the
Status is unresolved.</p></li>
<li><p>OrderA character vector. The corresponding
order name of the Input.Taxon, staying empty if the Status is unresolved.</p></li>
<li><p>LiteratureA character vector. The bibliography used.</p></li>
<li><p>CommentsA character vector. Further taxonomic comments.</p></li>
<li><p><em>Match.Position.2to1</em>: positions of the names in splist1 in
splist2. Can be used to reorder splist2 to match splist1.</p></li>
<li><p><em>Duplicated.Output.Position</em>: If <code>identify_dups = TRUE</code>, it
indicates the position of duplicated names in LCVP.Output.Taxon column.
This may occur if two inputs are now synonyms. It will output NA if there is
no duplicated for the species name.</p></li>
</ul><p>See <code><a href="https://rdrr.io/pkg/LCVP/man/tab_lcvp.html" class="external-link">LCVP:tab_lcvp</a></code> for more details.</p>


<p>If <code>include_all = TRUE</code>, all species will be included. Ordered based on the
<code>splist1</code>, and followed by non-matched names in <code>splist2</code>.
If <code>include_all = FALSE</code>, non-matched names in <code>splist2</code> are not
included.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Freiberg, M., Winter, M., Gentile, A. et al. LCVP, The Leipzig
catalogue of vascular plants, a new taxonomic reference list for all known
vascular plants. Sci Data 7, 416 (2020).
https://doi.org/10.1038/s41597-020-00702-z</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="lcvp_join.html">lcvp_join</a></code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Bruno Vilela &amp; Alexander Ziska</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># Ensure that LCVP package is available before running the example.</span></span>
<span><span class="co"># If it is not, see the `lcvplants` package vignette for details</span></span>
<span><span class="co"># on installing the required data package.</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"LCVP"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span> <span class="co"># Do not run this</span></span>
<span></span>
<span><span class="co"># Generate two lists of species name</span></span>
<span><span class="va">splist1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="fu">LCVP</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/LCVP/man/tab_lcvp.html" class="external-link">tab_lcvp</a></span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">10</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>, <span class="fl">1</span>, <span class="va">paste</span>, collapse <span class="op">=</span> <span class="st">" "</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">splist2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="fu">LCVP</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/LCVP/man/tab_lcvp.html" class="external-link">tab_lcvp</a></span><span class="op">[</span><span class="fl">11</span><span class="op">:</span><span class="fl">3</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>, <span class="fl">1</span>, <span class="va">paste</span>, collapse <span class="op">=</span> <span class="st">" "</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Including all species in both lists</span></span>
<span><span class="fu">lcvp_match</span><span class="op">(</span><span class="va">splist1</span>, <span class="va">splist2</span>, include_all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Including all species only in the first list</span></span>
<span><span class="va">matchLists</span> <span class="op">&lt;-</span> <span class="fu">lcvp_match</span><span class="op">(</span><span class="va">splist1</span>, <span class="va">splist2</span>, include_all <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">## This can be used to quickly change positions in splist2 to match splist1</span></span>
<span><span class="va">splist2</span><span class="op">[</span><span class="va">matchLists</span><span class="op">$</span><span class="va">Match.Position.2to1</span><span class="op">]</span></span>
<span></span>
<span><span class="op">}</span></span></code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Bruno Vilela, Alessandro Gentile, Martin Freiberg, Marten Winter.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

